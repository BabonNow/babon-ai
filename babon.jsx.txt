import { useState } from "react";
import { Button } from "@/components/ui/button";
import { Card, CardContent } from "@/components/ui/card";
import { Input } from "@/components/ui/input";

export default function BABON() {
  const [businessPlan, setBusinessPlan] = useState("");
  const [brandKit, setBrandKit] = useState("");
  const [marketingKit, setMarketingKit] = useState("");
  const [email, setEmail] = useState("");
  const [loading, setLoading] = useState(false);
  const [submitted, setSubmitted] = useState(false);

  const generateBABON = async () => {
    setLoading(true);

    await new Promise((resolve) => setTimeout(resolve, 3000));

    setBusinessPlan(
      "Business Idea: AI-Powered Resume Optimization\nTarget Market: Job Seekers, Career Coaches\nUnique Angle: Personalized AI resume feedback with instant job matching"
    );

    setBrandKit(
      "Brand Name: ResumeReactor\nLogo Idea: Futuristic 'R' with circuitry\nColors: Blue, Silver, Black\nDomain: resumereactor.ai"
    );

    setMarketingKit(
      "Landing Page Copy: Boost Your Resume with AI Precision\nCTA: Get Instant Feedback Now\nEmail Sequence: Welcome, Tips, Promo, Testimonial, Upsell\nSocial Post: \"Job hunting? Let AI supercharge your resume. Try ResumeReactor today!\""
    );

    setLoading(false);
  };

  const handlePurchase = async () => {
    setLoading(true);

    // Simulate Stripe payment and email delivery
    await new Promise((resolve) => setTimeout(resolve, 3000));

    setSubmitted(true);
    setLoading(false);
  };

  return (
    <div className="p-4 grid gap-4 max-w-xl mx-auto">
      <h1 className="text-2xl font-bold text-center">BABON - Be A Business Owner Now</h1>

      {!submitted && (
        <>
          <Input
            type="email"
            placeholder="Enter your email to get started"
            value={email}
            onChange={(e) => setEmail(e.target.value)}
            className="mb-2"
          />
          <Button onClick={handlePurchase} disabled={loading || !email}>
            {loading ? "Processing..." : "Purchase BABON Kit ($199)"}
          </Button>
        </>
      )}

      {submitted && (
        <>
          <Button onClick={generateBABON} disabled={loading}>
            {loading ? "Generating..." : "Launch BABON Kit"}
          </Button>

          {businessPlan && (
            <Card>
              <CardContent>
                <h2 className="text-xl font-semibold mb-2">Business Plan</h2>
                <pre>{businessPlan}</pre>
              </CardContent>
            </Card>
          )}

          {brandKit && (
            <Card>
              <CardContent>
                <h2 className="text-xl font-semibold mb-2">Brand Kit</h2>
                <pre>{brandKit}</pre>
              </CardContent>
            </Card>
          )}

          {marketingKit && (
            <Card>
              <CardContent>
                <h2 className="text-xl font-semibold mb-2">Marketing Kit</h2>
                <pre>{marketingKit}</pre>
              </CardContent>
            </Card>
          )}
        </>
      )}
    </div>
  );
}
